{"ast":null,"code":"var _jsxFileName = \"C:\\\\PDFAI\\\\frontend\\\\src\\\\components\\\\FileUpload.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { uploadPDF } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onUploadSuccess,\n  onUploadError\n}) => {\n  _s();\n  const [isUploading, setIsUploading] = useState(false);\n  const onDrop = useCallback(async acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n    if (file.type !== 'application/pdf') {\n      onUploadError('PDFファイルのみアップロード可能です');\n      return;\n    }\n    setIsUploading(true);\n    try {\n      const response = await uploadPDF(file);\n      onUploadSuccess(response);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      onUploadError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'アップロードに失敗しました');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onUploadSuccess, onUploadError]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    multiple: false\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ...getRootProps(),\n    style: {\n      border: '2px dashed #ccc',\n      borderRadius: '10px',\n      padding: '40px',\n      textAlign: 'center',\n      cursor: 'pointer',\n      backgroundColor: isDragActive ? '#f0f8ff' : '#fafafa',\n      transition: 'background-color 0.2s ease'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ...getInputProps()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), isUploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '50px',\n          height: '50px',\n          border: '3px solid #f3f3f3',\n          borderTop: '3px solid #3498db',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite',\n          margin: '0 auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u3053\\u3053\\u306B\\u30C9\\u30ED\\u30C3\\u30D7\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30C9\\u30E9\\u30C3\\u30B0\\uFF06\\u30C9\\u30ED\\u30C3\\u30D7\\u3059\\u308B\\u304B\\u3001\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: '#666'\n          },\n          children: \".pdf \\u30D5\\u30A1\\u30A4\\u30EB\\u306E\\u307F\\u5BFE\\u5FDC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"HL/qRiO7RSryAIHotyFfik5+zTg=\", false, function () {\n  return [useDropzone];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useCallback","useState","useDropzone","uploadPDF","jsxDEV","_jsxDEV","FileUpload","onUploadSuccess","onUploadError","_s","isUploading","setIsUploading","onDrop","acceptedFiles","file","type","response","error","_error$response","_error$response$data","data","detail","getRootProps","getInputProps","isDragActive","accept","multiple","style","border","borderRadius","padding","textAlign","cursor","backgroundColor","transition","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","borderTop","animation","margin","fontSize","color","_c","$RefreshReg$"],"sources":["C:/PDFAI/frontend/src/components/FileUpload.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { uploadPDF } from '../services/api';\nimport { UploadResponse } from '../types';\n\ninterface FileUploadProps {\n  onUploadSuccess: (response: UploadResponse) => void;\n  onUploadError: (error: string) => void;\n}\n\nconst FileUpload: React.FC<FileUploadProps> = ({ onUploadSuccess, onUploadError }) => {\n  const [isUploading, setIsUploading] = useState(false);\n\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\n    const file = acceptedFiles[0];\n    if (!file) return;\n\n    if (file.type !== 'application/pdf') {\n      onUploadError('PDFファイルのみアップロード可能です');\n      return;\n    }\n\n    setIsUploading(true);\n    try {\n      const response = await uploadPDF(file);\n      onUploadSuccess(response);\n    } catch (error: any) {\n      onUploadError(error.response?.data?.detail || 'アップロードに失敗しました');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [onUploadSuccess, onUploadError]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    multiple: false\n  });\n\n  return (\n    <div\n      {...getRootProps()}\n      style={{\n        border: '2px dashed #ccc',\n        borderRadius: '10px',\n        padding: '40px',\n        textAlign: 'center',\n        cursor: 'pointer',\n        backgroundColor: isDragActive ? '#f0f8ff' : '#fafafa',\n        transition: 'background-color 0.2s ease'\n      }}\n    >\n      <input {...getInputProps()} />\n      {isUploading ? (\n        <div>\n          <p>アップロード中...</p>\n          <div style={{ \n            width: '50px', \n            height: '50px', \n            border: '3px solid #f3f3f3',\n            borderTop: '3px solid #3498db',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto'\n          }} />\n        </div>\n      ) : (\n        <div>\n          {isDragActive ? (\n            <p>PDFファイルをここにドロップしてください</p>\n          ) : (\n            <div>\n              <p>PDFファイルをドラッグ＆ドロップするか、クリックして選択してください</p>\n              <p style={{ fontSize: '14px', color: '#666' }}>\n                .pdf ファイルのみ対応\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n      <style>\n        {`\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default FileUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
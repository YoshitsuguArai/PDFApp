{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./components/Header';import UploadPage from'./pages/UploadPage';import SearchPage from'./pages/SearchPage';import DocumentGeneratorPage from'./pages/DocumentGeneratorPage';import{getDocumentCount}from'./services/api';import{FaRobot,FaHeart}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[currentPage,setCurrentPage]=useState('upload');const[searchResults,setSearchResults]=useState([]);const[lastQuery,setLastQuery]=useState('');const[documentCount,setDocumentCount]=useState(0);useEffect(()=>{fetchDocumentCount();},[]);const fetchDocumentCount=async()=>{try{const response=await getDocumentCount();setDocumentCount(response.count);}catch(error){console.error('ドキュメント数の取得に失敗:',error);}};const handleSearchComplete=(results,query)=>{setSearchResults(results);setLastQuery(query);};const handleNavigate=page=>{setCurrentPage(page);};const handleDocumentCountChange=count=>{setDocumentCount(count);};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',backgroundColor:'#f1f3f6',fontFamily:'\"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'},children:[/*#__PURE__*/_jsx(Header,{currentPage:currentPage,onNavigate:handleNavigate,documentCount:documentCount}),/*#__PURE__*/_jsx(\"main\",{style:{maxWidth:'1400px',margin:'0 auto',padding:'32px 24px',minHeight:'calc(100vh - 120px)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#ffffff',borderRadius:'16px',boxShadow:'0 4px 24px rgba(0, 0, 0, 0.08)',border:'1px solid rgba(0, 0, 0, 0.06)',overflow:'hidden',minHeight:'calc(100vh - 200px)'},children:[currentPage==='upload'&&/*#__PURE__*/_jsx(UploadPage,{onDocumentCountChange:handleDocumentCountChange}),currentPage==='search'&&/*#__PURE__*/_jsx(SearchPage,{onSearchComplete:handleSearchComplete}),currentPage==='generate'&&/*#__PURE__*/_jsx(DocumentGeneratorPage,{searchResults:searchResults,query:lastQuery})]})}),/*#__PURE__*/_jsx(\"footer\",{style:{background:'linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)',marginTop:'auto',borderTop:'1px solid rgba(255,255,255,0.1)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto',padding:'32px 24px',display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))',gap:'32px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/icon.png\",alt:\"DocuMind Pro\",style:{width:'40px',height:'40px',borderRadius:'8px',opacity:0.95}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 4px 0',fontSize:'18px',fontWeight:'700',color:'#ffffff'},children:\"DocuMind Pro\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'14px',color:'#9fb8d3',fontWeight:'400'},children:\"Enterprise Document Intelligence\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-flex',alignItems:'center',gap:'8px',background:'rgba(255, 255, 255, 0.08)',padding:'8px 16px',borderRadius:'20px',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(FaRobot,{style:{fontSize:'16px',color:'#4a9eff'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',color:'#ffffff',fontWeight:'600'},children:\"AI Hybrid Search\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'12px',color:'#8892b0'},children:\"Powered by OpenAI & ChromaDB\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-flex',alignItems:'center',gap:'8px',background:'rgba(44, 90, 160, 0.9)',border:'1px solid rgba(255,255,255,0.2)',padding:'6px 12px',borderRadius:'6px',fontSize:'12px',fontWeight:'600',color:'#ffffff',marginBottom:'12px'},children:\"v1.0.0 BETA\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',fontSize:'12px',color:'#8892b0',display:'flex',alignItems:'center',justifyContent:'flex-end',gap:'4px'},children:[\"\\xA9 2024 | Built with \",/*#__PURE__*/_jsx(FaHeart,{style:{color:'#ff6b6b',fontSize:'12px'}}),\" for enterprise\"]})]})]})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","UploadPage","SearchPage","DocumentGeneratorPage","getDocumentCount","FaRobot","FaHeart","jsx","_jsx","jsxs","_jsxs","App","currentPage","setCurrentPage","searchResults","setSearchResults","lastQuery","setLastQuery","documentCount","setDocumentCount","fetchDocumentCount","response","count","error","console","handleSearchComplete","results","query","handleNavigate","page","handleDocumentCountChange","style","minHeight","backgroundColor","fontFamily","children","onNavigate","maxWidth","margin","padding","borderRadius","boxShadow","border","overflow","onDocumentCountChange","onSearchComplete","background","marginTop","borderTop","display","gridTemplateColumns","gap","alignItems","src","alt","width","height","opacity","fontSize","fontWeight","color","textAlign","marginBottom","justifyContent"],"sources":["C:/PDFAI/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './components/Header';\nimport UploadPage from './pages/UploadPage';\nimport SearchPage from './pages/SearchPage';\nimport DocumentGeneratorPage from './pages/DocumentGeneratorPage';\nimport { FileSearchResult } from './types';\nimport { getDocumentCount } from './services/api';\nimport { FaRobot, FaHeart } from 'react-icons/fa';\n\nconst App: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState<'upload' | 'search' | 'generate'>('upload');\n  const [searchResults, setSearchResults] = useState<FileSearchResult[]>([]);\n  const [lastQuery, setLastQuery] = useState('');\n  const [documentCount, setDocumentCount] = useState(0);\n\n  useEffect(() => {\n    fetchDocumentCount();\n  }, []);\n\n  const fetchDocumentCount = async () => {\n    try {\n      const response = await getDocumentCount();\n      setDocumentCount(response.count);\n    } catch (error) {\n      console.error('ドキュメント数の取得に失敗:', error);\n    }\n  };\n\n  const handleSearchComplete = (results: FileSearchResult[], query: string) => {\n    setSearchResults(results);\n    setLastQuery(query);\n  };\n\n  const handleNavigate = (page: 'upload' | 'search' | 'generate') => {\n    setCurrentPage(page);\n  };\n\n  const handleDocumentCountChange = (count: number) => {\n    setDocumentCount(count);\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      backgroundColor: '#f1f3f6',\n      fontFamily: '\"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n    }}>\n      <Header\n        currentPage={currentPage}\n        onNavigate={handleNavigate}\n        documentCount={documentCount}\n      />\n\n      <main style={{\n        maxWidth: '1400px',\n        margin: '0 auto',\n        padding: '32px 24px',\n        minHeight: 'calc(100vh - 120px)'\n      }}>\n        <div style={{\n          backgroundColor: '#ffffff',\n          borderRadius: '16px',\n          boxShadow: '0 4px 24px rgba(0, 0, 0, 0.08)',\n          border: '1px solid rgba(0, 0, 0, 0.06)',\n          overflow: 'hidden',\n          minHeight: 'calc(100vh - 200px)'\n        }}>\n          {currentPage === 'upload' && (\n            <UploadPage onDocumentCountChange={handleDocumentCountChange} />\n          )}\n          \n          {currentPage === 'search' && (\n            <SearchPage onSearchComplete={handleSearchComplete} />\n          )}\n          \n          {currentPage === 'generate' && (\n            <DocumentGeneratorPage \n              searchResults={searchResults}\n              query={lastQuery}\n            />\n          )}\n        </div>\n      </main>\n\n      <footer style={{\n        background: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)',\n        marginTop: 'auto',\n        borderTop: '1px solid rgba(255,255,255,0.1)'\n      }}>\n        <div style={{\n          maxWidth: '1400px',\n          margin: '0 auto',\n          padding: '32px 24px',\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\n          gap: '32px',\n          alignItems: 'center'\n        }}>\n          {/* ブランド情報 */}\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center', \n            gap: '16px'\n          }}>\n            <img \n              src=\"/icon.png\" \n              alt=\"DocuMind Pro\" \n              style={{\n                width: '40px',\n                height: '40px',\n                borderRadius: '8px',\n                opacity: 0.95\n              }}\n            />\n            <div>\n              <h4 style={{\n                margin: '0 0 4px 0',\n                fontSize: '18px',\n                fontWeight: '700',\n                color: '#ffffff'\n              }}>\n                DocuMind Pro\n              </h4>\n              <p style={{\n                margin: '0',\n                fontSize: '14px',\n                color: '#9fb8d3',\n                fontWeight: '400'\n              }}>\n                Enterprise Document Intelligence\n              </p>\n            </div>\n          </div>\n\n          {/* 技術情報 */}\n          <div style={{ textAlign: 'center' }}>\n            <div style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'rgba(255, 255, 255, 0.08)',\n              padding: '8px 16px',\n              borderRadius: '20px',\n              marginBottom: '8px'\n            }}>\n              {/* @ts-ignore */}\n              <FaRobot style={{ fontSize: '16px', color: '#4a9eff' }} />\n              <span style={{\n                fontSize: '14px',\n                color: '#ffffff',\n                fontWeight: '600'\n              }}>\n                AI Hybrid Search\n              </span>\n            </div>\n            <p style={{\n              margin: '0',\n              fontSize: '12px',\n              color: '#8892b0'\n            }}>\n              Powered by OpenAI & ChromaDB\n            </p>\n          </div>\n\n          {/* バージョン・コピーライト */}\n          <div style={{ textAlign: 'right' }}>\n            <div style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              background: 'rgba(44, 90, 160, 0.9)',\n              border: '1px solid rgba(255,255,255,0.2)',\n              padding: '6px 12px',\n              borderRadius: '6px',\n              fontSize: '12px',\n              fontWeight: '600',\n              color: '#ffffff',\n              marginBottom: '12px'\n            }}>\n              v1.0.0 BETA\n            </div>\n            <p style={{\n              margin: '0',\n              fontSize: '12px',\n              color: '#8892b0',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'flex-end',\n              gap: '4px'\n            }}>\n              {/* @ts-ignore */}\n              © 2024 | Built with <FaHeart style={{ color: '#ff6b6b', fontSize: '12px' }} /> for enterprise\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}